--modificado por daniel --
--Crear Base de datos SARI_BD--
create database SARI_BD;
go
use SARI_BD;
go
--Crear Tabla Direccion--
Create table Direccion(iddireccion int identity(1,1) primary key,calle varchar(50) ,numerointerior char(10) ,numeroexterior char(10) ,colonia varchar(50) ,codigopostal int,estado varchar(30),pais varchar(30));
go
--Crear Tabla Telefono--
create table Telefono(idtelefono int primary key identity(1,1),numero varchar(15) ,tipo varchar(15));
go
--Crear Tabla Persona--
create table Persona (idpersona int primary key identity (1,1), nombre varchar (60) NOT NULL, apaterno varchar (30) NOT NULL,amaterno varchar (30) NOT NULL, curp varchar (18) unique NOT NULL, rfc varchar (15) unique, fechanac date,sexo varchar(15),estadocivil varchar(15),estatus varchar(15), fkdireccion int, foreign key (fkdireccion) references Direccion (iddireccion) ON DELETE CASCADE);
go

--Crear Tabla contacto--
create table contacto(fktelefono int,fkpersona int,foreign key(fktelefono) references Telefono(idtelefono) ON DELETE CASCADE,foreign key(fkpersona) references Persona(idpersona) ON DELETE CASCADE,primary key(fkpersona,fktelefono))
go
--Crear Tabla Empleado--
create table Empleado(idempleado int identity(1,1) primary key, area varchar(20),puesto varchar(30),foto varchar(250),fkpersona int unique, foreign key(fkpersona) references Persona(idpersona) ON DELETE CASCADE)
go
--Crear Tabla Habilidad--
Create table Habilidad(idhabilidad int identity(1,1) primary key,tipo varchar(50),descripcion varchar(200),fkempleado int, foreign key(fkempleado) references Empleado(idempleado) ON DELETE CASCADE);
go
--Crear Tabla Idioma--
create table Idioma(ididioma int identity(1,1) primary key ,nombre varchar(200) ,nivel varchar(50),descripcion varchar(250),fkempleado int, foreign key(fkempleado) references Empleado(idempleado) ON DELETE CASCADE);
go
--Crear Tabla Academico--
create table Academico(idacademico int identity(1,1) primary key,inicio date,fin date,titulobtenido varchar(100),institucion varchar(100),fkempleado int, foreign key(fkempleado) references Empleado(idempleado) ON DELETE CASCADE)
go
--Crear Tabla Academico--
create table Jornada(idjornada int identity(1,1) primary key,tipo varchar(30),diasemana int, turno varchar(20),hrentrada time,hrsalida time)
go
--Crear Tabla asiste--
create table asiste(fkempleado int,fkjornada int, foreign key(fkempleado) references Empleado(idempleado) ON DELETE CASCADE,foreign key(fkjornada) references Jornada(idjornada) ON DELETE CASCADE,primary key(fkjornada,fkempleado))
go
--Crear Tabla Preferencias_Laborales--
create table Preferencias_Laborales(
id_PrefLab int identity,
Turno varchar(50),
Area varchar(50),
Puesto varchar(50),
Sueldo money,
Objetivo varchar(255),
Extra varchar(255) null, --Actividades extra que se tengan?
primary key (id_PrefLab)
);
go
--Crear Tabla More_Info--
create table More_Info(
id_MoreInfo int identity,
Idiomas varchar(255),
Herra_Ofi varchar(255), --Herramientas de Oficina
Herra_Info varchar(255), --Herramientas Informáticas.
Cursos varchar(255),
Cono_Tec varchar(255), --Conocimientos de Tecnología.
Cono_Fina varchar(255), --Conocimientos Financieros.
primary key (id_MoreInfo)
);
go
--Crear Tabla Candidatos--
create table Candidatos( --En esta tabla, se ingresarán los datos pincipales del candidato.
id_Candidato int identity,
Nacionalidad varchar(50),
E_Mail varchar(100),
No_IMSS varchar(20), --Solo pueden ser 20 digitos.
Telefono1 varchar(15), --Telefono principal.
Telefono2 varchar(15), --Telefono secundario.
--Al principio, los sig. campos se dejan vacios. Cuando se hagan los examenes, se hace un update.
Cali_Hab_Sup int default 0, --Habilidad de supervision
Cali_Cap_Dec int default 0, --Capacidad de decision en las relaciones humanas.
Cali_Cap_Eva int default 0, --Capacidad de evaluacion de problemas interpersonales.
Cali_Hab_ERI int default 0, --Habilidad para establecer relaciones interpersonales.
Cali_Sen_Com int default 0, --Sentido comun y tacto en las relaciones interpersonales.
id_PrefLab int,
id_MoreInfo int,
id_Persona int,
primary key (id_Candidato),
foreign key (id_PrefLab) references Preferencias_Laborales (id_PrefLab) --Se hace un foreign key a la tabla Preferencias_Laborales, ya que el Candidato solo puede tener una sola preferencia.
on delete set null --Cuando el registro al que hace referencia es borrado, el campo de esta tabla se deja en NULL.
on update cascade, --Cuando se haga alguna actualización al registro al que hace referencia, este tambien se actualiza.
foreign key (id_MoreInfo) references More_Info (id_MoreInfo)--Se hace un foreign key a la tabla More_Info, ya que el Candidato solo puede tener una referencia a mas información.
on delete set null --Cuando el registro al que hace referencia es borrado, el campo de esta tabla se deja en NULL.
on update cascade, --Cuando se haga alguna actualización al registro al que hace referencia, este tambien se actualiza.
foreign key (id_Persona) references Persona (idpersona)--Se hace un foreign key a la tabla Direcciones, ya que el Candidato solo puede tener una sola direccion.
on delete set null --Cuando el registro de Direccion al que hace referencia es borrado, el campo id_Direccion de esta tabla se deja en NULL.
on update cascade, --Cuando se haga alguna actualización al registro de Direccion al que hace referencia, este tambien se actualiza.
);
go
--Crear Tabla Historia_Laboral--
create table Historia_Laboral(
id_HistLab int identity, --Is this necesary?
Puesto varchar(50),
Empresa varchar(50),
Fecha_I date, --Fecha de ingreso.
Fecha_T date, --Fecha de Termino.
Area varchar(50), --Administración, Compras, etc.
Industria varchar(50), --Arquitectura, Comercio, Diseño, etc.
Sueldo money,
Motivo_Salida varchar(255),
Jefe_In varchar(50),
Puesto_Jefe varchar(50),
Telefono_Jefe varchar(50),
Contacto bit, --Podemos contactar a su jefe? Y/N
Comentarios varchar(255),
id_Candidato int,
primary key (id_HistLab),
foreign key (id_Candidato) references Candidatos (id_Candidato) --El candidato puede tener una o varias historias laborales.
on update cascade
);
go
--Crear Tabla Estudios--
create table Estudios(
id_Estudios int identity,
Pais varchar(50),
Nivel_Estudios varchar(50),
Institucion varchar(50),
Area varchar(50),
Titulo varchar(50),
Fecha_I date,
Fecha_T date,
Promedio float,
id_Candidato int,
primary key (id_Estudios),
foreign key (id_Candidato) references Candidatos (id_Candidato) --El candidato puede tener uno o varios estudios.
on update cascade
);
go
--Crear Tabla Referencias--
create table Referencias(
id_Referencia int identity,
Nombre_R varchar(50),
Direccion_R varchar(255),
Ocupacion_R varchar(50),
Telefono_R varchar(50),
id_Candidato int,
primary key (id_Referencia),
foreign key (id_Candidato) references Candidatos(id_Candidato) --El candidato puede tener una o varias referencias.
on update cascade
);
go
--Crear Tabla Preguntas_Test--
create table Preguntas_Test(
id_Pregunta int identity,
Pregunta varchar(255),
Capacidad int, --Esto es la habilidad o capacidad que se evalua en la pregunta.
--1 Habilidad de Supervision
--2 Capacidad de decicion en las relaciones humanas
--3 Capacidad de evaluacion de problemas interpersonales
--4 Habilidad para establecer relaciones interpersonales.
--5 Sentido común y tacto en las relaciones interpersonales.
Valor int, --El valor o porcentaje que se le dará a la respuesta.
primary key (id_Pregunta)
);
go
--Crear Tabla Respuestas_Test--
create table Respuestas_Test(
Inciso int, --Inciso que tendrá (0,1,2,3)
Pregunta int, --A que pregunta pertenece.
Respuesta varchar(255), --Respuesta de la pregunta.
foreign key (Pregunta) references Preguntas_Test(id_Pregunta)
on update cascade
);
go
--Crear Tabla producto--
create table producto(id_producto int identity NOT NULL,
	identificador varchar(50) NULL,
	nombre varchar(50) NULL,
	marca varchar(50) NULL,
	modelo varchar(50) NULL,
	descripcion varchar(100) NULL,
	grupo varchar(50) NULL,
	localizacion varchar(50) NULL,
	precio_compra money NULL,
	unidad_medida varchar(20) NULL,
	cantidad_medida int NULL,
	stock int NULL,
	fecha datetime NULL,
	primary key (id_producto));
GO
--Crear Tabla Salida--
CREATE TABLE salida(
	id_salida int IDENTITY NOT NULL,
	fecha date NULL,
	hora time(7) NULL,
	descripcion varchar(200) NULL,
	id_empleado int NULL,
	primary key (id_salida),
	foreign key (id_empleado) references Empleado(idempleado)
	on delete set null on update cascade);
GO
--Crear Tabla detalle_salida--
CREATE TABLE detalle_salida(
	id_detalle_salida int IDENTITY NOT NULL,
	id_salida int,
	id_producto int ,
	no_articulos int NULL,
	primary key (id_detalle_salida),
	foreign key (id_salida) references salida(id_salida)
	on delete set null on update cascade,
	foreign key (id_producto) references producto(id_producto)
	on delete set null on update cascade);
GO
--Crear Tabla proveedor--
CREATE TABLE proveedor(
	id_proveedor int IDENTITY NOT NULL,
	nombre varchar(50) NULL,
	tel_1 varchar(20) NULL,
	tel_2 varchar(20) NULL,
	ciudad varchar(50) NULL,
	direccion varchar(80) NULL,
	primary key (id_proveedor));
GO
--Crear Tabla entradas--
CREATE TABLE entradas(
	id_entrada int IDENTITY NOT NULL,
	fecha date NULL,
	hora time(7) NULL,
	descripcion varchar(200) NULL,
	total money NULL,
	id_proveedor int NULL,
	primary key (id_entrada),
	foreign key (id_proveedor) references proveedor(id_proveedor)
	on delete set null on update cascade);
GO
--Crear Tabla detalle_entradas--
CREATE TABLE detalle_entradas(
	id_detalle_entrada int IDENTITY NOT NULL,
	id_entrada int NULL,
	id_producto int NULL,
	no_articulos int NULL,
	primary key (id_detalle_entrada),
	foreign key (id_entrada) references entradas(id_entrada)
	on delete set null on update cascade,
	foreign key (id_producto) references producto(id_producto)
	on delete set null on update cascade);
GO
--Crear Tabla suministra--
CREATE TABLE suministra(
	id_suministro int IDENTITY NOT NULL,
	id_proveedor int NULL,
	id_producto int NULL,
	primary key (id_suministro),
	foreign key (id_proveedor) references proveedor(id_proveedor)
	on delete set null on update cascade,
	foreign key (id_producto) references producto(id_producto)
	on delete set null on update cascade);
GO
--Crear Tabla servicios--
CREATE TABLE servicios(
	id_servicio int IDENTITY NOT NULL,
	identificador varchar(50) NULL,
	nombre varchar(50) NULL,
	descripcion varchar(50) NULL,
	precio money NULL,
	primary key (id_servicio));
GO
--Crear Tabla atiende--
CREATE TABLE atiende(
	id_proveedor int NOT NULL,
	id_servicio int NOT NULL,
 CONSTRAINT [PK_atiende] PRIMARY KEY CLUSTERED 
(
	[id_proveedor] ASC,
	[id_servicio] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
ALTER TABLE [dbo].[atiende]  WITH CHECK ADD  CONSTRAINT [proveedor_atiende] FOREIGN KEY([id_proveedor])
REFERENCES [dbo].[proveedor] ([id_proveedor])
GO

ALTER TABLE [dbo].[atiende]  WITH CHECK ADD  CONSTRAINT [servicios_atiende] FOREIGN KEY([id_servicio])
REFERENCES [dbo].[servicios] ([id_servicio])
GO

--Crear Tabla area--
CREATE TABLE area(
	id_area int IDENTITY NOT NULL,
	area varchar(50) NULL,
	descripcion varchar(200) NULL,
	caracteristicas varchar(50) NULL,
	telefono varchar(50) NULL,
	id_empleado int NULL,
	primary key (id_area),
	foreign key (id_empleado) references Empleado(idempleado)
	on delete set null on update cascade);
GO
--Crear Tabla usuario--
CREATE TABLE usuario(
	id_usuario int IDENTITY NOT NULL,
	usuario varchar(50) NULL,
	pass varchar(50) NULL,
	id_empleado int NULL,
	privilegio varchar(100) NULL,
	primary key (id_usuario),
	foreign key (id_empleado) references Empleado(idempleado)
	on delete set null on update cascade);
GO
--Crear Tabla usuario--
CREATE TABLE sol_compra(
	id_compra int IDENTITY NOT NULL,
	caracteristicas varchar(200) NULL,
	tipo varchar(50) NULL,
	monto money NULL,
	fecha datetime NULL,
	estatus varchar(50) NULL,
	id_usuario int NULL,
	primary key (id_compra),
	foreign key (id_usuario) references usuario(id_usuario)
	on delete set null on update cascade);
GO
--Crear Tabla detalle_producto--
CREATE TABLE detalle_producto(
	id_compra int NOT NULL,
	id_producto int NOT NULL,
	cantidad int NULL,
	precio_venta money NULL,
PRIMARY KEY CLUSTERED 
(
	[id_compra] ASC,
	[id_producto] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
ALTER TABLE [dbo].[detalle_producto]  WITH CHECK ADD FOREIGN KEY([id_compra])
REFERENCES [dbo].[sol_compra] ([id_compra])
GO

ALTER TABLE [dbo].[detalle_producto]  WITH CHECK ADD FOREIGN KEY([id_producto])
REFERENCES [dbo].[producto] ([id_producto])
GO

--Crear Tabla detalle_servicio--
CREATE TABLE detalle_servicio(
	id_compra int NOT NULL,
	id_servicio int NOT NULL,
	precio_venta money NULL,
PRIMARY KEY CLUSTERED 
(
	[id_compra] ASC,
	[id_servicio] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
ALTER TABLE [dbo].[detalle_servicio]  WITH CHECK ADD FOREIGN KEY([id_compra])
REFERENCES [dbo].[sol_compra] ([id_compra])
GO
ALTER TABLE [dbo].[detalle_servicio]  WITH CHECK ADD FOREIGN KEY([id_servicio])
REFERENCES [dbo].[servicios] ([id_servicio])
GO

--######################################################################################
USE 
SARI_BD;
GO

--RECURSOS HUMANOS CANDIDATOS --

--Preguntas
Insert into Preguntas_Test values ('Se le ha asignado un puesto en una gran empresa. La mejor forma de establecer relaciones amistosas y cordiales con sus nuevos compañeros será:',4,20);
Insert into Preguntas_Test values ('Tiene usted un empleado muy eficiente pero que constantemente se queja del mal trabajo. Sus quejas producen mal efecto en los demás empleados, lo mejor sería:',1,17);
Insert into Preguntas_Test values ('Un empleado de 60 años de edad que ha sido leal a la empresa durante 25 años se queja del exceso de trabajo. Lo mejor sería:',1,17);
Insert into Preguntas_Test values ('Uno de los socios, sin autoridad sobre usted le ordena haga algo en forma bien distinta de lo que planeaba. ¿Qué haría usted?',2,20);
Insert into Preguntas_Test values ('Usted visita a un amigo íntimo que ha estado enfermo por algún tiempo. Lo mejor sería:',5,17);
Insert into Preguntas_Test values ('Trabaja usted en una industria y su jefe quiere que tome un curso relacionado con su carrera pero que sea compatible con el horario de su trabajo. Lo mejor sería:',2,20);
Insert into Preguntas_Test values ('Un agente viajero con 15 años de antigüedad decide, presionado por su familia sentar raíces. Se le cambia a las oficinas generales. Es de esperar que:',3,13);
Insert into Preguntas_Test values ('Tiene dos invitados a cenar, el uno radical y el otro conservador. Surge una acalorada discusión respecto a la política. Lo mejor sería:',5,17);
Insert into Preguntas_Test values ('Un joven invita a una dama al teatro, al llegar se percata de que ha olvidado la cartera. Sería mejor:',3,12);
Insert into Preguntas_Test values ('Usted ha tenido experiencia como vendedor y acaba de conseguir de una tienda un empleo. La mejor forma de relacionarse con los empleados del departamento seria.',4,20);
Insert into Preguntas_Test values ('Es usted un joven empleado que va a comer con una maestra a quien conoce superficialmente.',4,20);
Insert into Preguntas_Test values ('Una señora de especiales méritos que por largo tiempo ha dirigido trabajos benéficos dejando las labores de su casa a cargo de la servidumbre, se cambia a otra población. Es de esperarse que ella:',3,13);
Insert into Preguntas_Test values ('Quiere pedirle un favor a un conocido con quien tiene poca confianza. La mejor forma de lograrlo sería:',4,20);
Insert into Preguntas_Test values ('Un joven de 24 años gasta bastante tiempo y dinero en diversiones, solo ha hecho ver que así no logrará al éxito en el trabajo. Probablemente cambie sus costumbres. Si:',3,12);
Insert into Preguntas_Test values ('Tras de haber hecho un buen número de favores a un amigo, este empieza a dar por hecho que usted será quien le resuelva todas sus pequeñas dificultades. La mejor forma de readaptar la situación sin ofenderle sería:',5,16);
Insert into Preguntas_Test values ('Una persona recién ascendida a un mejor puesto de autoridad lograría mejor sus metas y la buena voluntad de los empleados:',1,16);
Insert into Preguntas_Test values ('Vive a 15 km. del centro y ha ofrecido llevar de regreso a un amigo a las 16:00 p.m. él lo espera desde las 15:00 y a las 16:00 horas usted se entera que no podrá salir antes de las 17:30, sería mejor:',5,17);
Insert into Preguntas_Test values ('Es usted un ejecutivo y dos de sus empleados se llevan mal, ambos son eficientes.Lo mejor sería:',1,17);
Insert into Preguntas_Test values ('El señor González ha estado conservando su puesto subordinado por 10 años,desempeña su trabajo callado y confidencialmente y se le extrañará cuando sevaya. De obtener el trabajo en otra empresa, muy probablemente:',3,13);
Insert into Preguntas_Test values ('Va usted a ser maestro de ceremonias, en una cena el próximo sábado día en que por la mañana, debido a enfermedad de su familia, se ve imposibilitado para asistir lo mejor sería:',2,20);
Insert into Preguntas_Test values ('En igualdad de circunstancias el empleado que mejor se adapta a un nuevo puesto es aquel que:',3,12);
Insert into Preguntas_Test values ('Un conocido le platica acerca de una afición que él tiene, su conversación le aburre.Lo mejor sería:',5,17);
Insert into Preguntas_Test values ('Es usted un empleado ordinario en una oficina grande. El jefe entra cuando usted lee en vez de trabajar. Lo mejor sería:',2,20);
Insert into Preguntas_Test values ('Es usted un maestro de primaria. Camino a la escuela tras de la primera nevada,algunos de sus alumnos lanzanbolas de nieve. Desde el punto de vista de la buena administración de la escolar, usted debería:',1,17);
Insert into Preguntas_Test values ('Preside el Comité de Mejoras Materiales en su colonia; las últimas reuniones han sido de escasa asistencia. Se mejoraría la asistencia:',4,20);
Insert into Preguntas_Test values ('Zaldìvar, eficiente, pero de esos que “todo lo saben”, critica a Montoya, el jefe opina que la idea de Montoya ahorra tiempo. Probablemente Zaldìvar:',3,13);
Insert into Preguntas_Test values ('Un hombre de 64 años tuvo algún éxito cuando joven como político, sus modos directos le han impedido descollar los últimos 20 años, lo más probable es que:',3,12);
Insert into Preguntas_Test values ('Es usted un joven que encuentra en la calle a una mujer de más edad a quien apenas conoce y que parece haber estado llorando. Lo mejor sería:',5,16);
Insert into Preguntas_Test values ('Un compañero flojea de tal manera que usted le toca más de lo que le corresponde.La mejor forma de conservar las relaciones sería:',2,20);
Insert into Preguntas_Test values ('Se le ha asignado un puesto ejecutivo, en una organización. Para ganar el respeto y la admiración de sus subordinados, sin perjuicio de sus planes, habría que:',1,16);

--Respuestas
insert into Respuestas_Test Values (0,1,'Evitando tomar nota de lo errores en que incurran.');
insert into Respuestas_Test values (1,1,'Hablando bien de ellos al jefe.');
insert into Respuestas_Test values (2,1,'Mostrando interés en el trabajo de ellos.');
insert into Respuestas_Test values (3,1,'Pidièndoles les permitan hacer los trabajos que usted puede hacer mejor.');
insert into Respuestas_Test values (0,2,'Pedir a los demás empleados que no hagan caso.');
insert into Respuestas_Test values (1,2,'Averiguar la causa de esa actitud y procurar su modificación.');
insert into Respuestas_Test values (2,2,'Cambiarlo de departamento donde quede a cargo de otro jefe.');
insert into Respuestas_Test values (3,2,'Permitirle planear lo más posible acerca de su trabajo.');
insert into Respuestas_Test values (0,3,'Decirle que vuelva a su trabajo so pena de cese');
insert into Respuestas_Test values (1,3,'Despedirlo, substituyèndolo por alguien más joven.');
insert into Respuestas_Test values (2,3,'Darle un aumento de sueldo que evite que continúe quejàndose.');
insert into Respuestas_Test values (3,3,'Aminorar su trabajo');
insert into Respuestas_Test values (0,4,'Acatar la orden y no armar mayor revuelo.');
insert into Respuestas_Test values (1,4,'Ignorar las indicaciones y hacerlo según había planeado.');
insert into Respuestas_Test values (2,4,'Decirle que esto no es asunto que a usted le interesa y que usted hará las cosas a su modo.');
insert into Respuestas_Test values (3,4,'Decirle que lo haga él mismo');
insert into Respuestas_Test values (0,5,'Platicarle sus diversiones recientes.');
insert into Respuestas_Test values (1,5,'Platicarle nuevas cosas referentes a sus amigos mutuos');
insert into Respuestas_Test values (2,5,'Comentar su enfermedad');
insert into Respuestas_Test values (3,5,'Enfatizar lo mucho que le apena verle enfermo.');
insert into Respuestas_Test values (0,6,'Continuar normalmente su carrera e informar al jefe sí pregunta.');
insert into Respuestas_Test values (1,6,'Explicar la situación u obtener su opinión en cuanto a la importancia relativa de ambas situaciones');
insert into Respuestas_Test values (2,6,'Dejar la escuela en relación a los intereses del trabajo');
insert into Respuestas_Test values (3,6,'Asistir en forma alterna y no hacer comentarios');
insert into Respuestas_Test values (0,7,'Guste de los descansos del trabajo de oficina.');
insert into Respuestas_Test values (1,7,'Se sienta inquieto por la rutina de la oficina');
insert into Respuestas_Test values (2,7,'Busque otro trabajo');
insert into Respuestas_Test values (3,7,'Resulte muy ineficiente en el trabajo de oficina');
insert into Respuestas_Test values (0,8,'Tomar partido');
insert into Respuestas_Test values (1,8,'Intentar cambiar de tema');
insert into Respuestas_Test values (2,8,'Intervenir dando los propios puntos de vista y mostrar donde ambos pecan de extremosos');
insert into Respuestas_Test values (3,8,'Pedir cambien de tema para evitar mayor discusión');
insert into Respuestas_Test values (0,9,'Tratar de obtener boletos dejando el reloj en prenda');
insert into Respuestas_Test values (1,9,'Buscar a algún amigo a quien pedir prestado.');
insert into Respuestas_Test values (2,9,'Decidir de acuerdo con ella lo procedente');
insert into Respuestas_Test values (3,9,'Dar una excusa plausible para ir a casa por dinero');
insert into Respuestas_Test values (0,10,'Permitirle hacer la mayoría de las ventas por unos días en tanto observa sus métodos.');
insert into Respuestas_Test values (1,10,'Tratar de instituir los métodos que anteriormente le fueron útiles');
insert into Respuestas_Test values (2,10,'Adaptarse mejor a las condiciones y aceptar consejos de sus compañeros.');
insert into Respuestas_Test values (3,10,'Pedir al jefe todo el consejo necesario');
insert into Respuestas_Test values (0,11,'Algún tópico de actualidad');
insert into Respuestas_Test values (1,11,'Algún aspecto interesante de su propio trabajo.');
insert into Respuestas_Test values (2,11,'Las tendencias actuales en el terreno docente.');
insert into Respuestas_Test values (3,11,'Las sociedades de padres de familia');
insert into Respuestas_Test values (0,12,'Se sienta insatisfecha de su nuevo hogar.');
insert into Respuestas_Test values (1,12,'Se interese más por los trabajos domésticos');
insert into Respuestas_Test values (2,12,'Intervenga poco a poco en la vida de la comunidad, continuando así sus intereses.');
insert into Respuestas_Test values (3,12,'Adopte nuevos intereses en la nueva comunidad');
insert into Respuestas_Test values (0,13,'Hacièndole creer que será él quien se beneficie más.');
insert into Respuestas_Test values (1,13,'Enfatice la importancia que para usted tiene que se le conceda');
insert into Respuestas_Test values (2,13,'Ofrecer algo de retribución');
insert into Respuestas_Test values (3,13,'Decir que lo que desea en forma breve indicando los motivos.');
insert into Respuestas_Test values (0,14,'Sus hábitos nocturnos lesionan su salud.');
insert into Respuestas_Test values (1,14,'Sus amigos enfatizan el daño que se hace a sí mismo');
insert into Respuestas_Test values (2,14,'Su jefe se da cuenta y lo previene.');
insert into Respuestas_Test values (3,14,'Se interesa en el desarrollo de alguna fase de su trabajo.');
insert into Respuestas_Test values (0,15,'Explicar el daño que se está causando.');
insert into Respuestas_Test values (1,15,'Pedir a un amigo mutuo que trate de arreglar las cosas');
insert into Respuestas_Test values (2,15,'Ayudarle una vez más pero de tal manera que sienta que mejor hubiera sido no haberlo solicitado.');
insert into Respuestas_Test values (3,15,'Darle una excusa para no seguir ayudàndole.');
insert into Respuestas_Test values (0,16,'Tratando de que cada empleado entienda qué es la verdadera eficiencia.');
insert into Respuestas_Test values (1,16,'Ascendiendo cuanto antes a quienes considere lo merezcan.');
insert into Respuestas_Test values (2,16,'Preguntando confidencialmente a cada empleado en cuanto a los cambios que estiman necesarios.');
insert into Respuestas_Test values (3,16,'Seguir los sistemas del anterior jefe y gradualmente hacer los cambios necesarios');
insert into Respuestas_Test values (0,17,'Pedirle un taxi.');
insert into Respuestas_Test values (1,17,'Explicarle y dejar que él decida.');
insert into Respuestas_Test values (2,17,'Pedirle que espere hasta las 17:30 horas');
insert into Respuestas_Test values (3,17,'Proponerle que se lleve su auto.');
insert into Respuestas_Test values (0,18,'Despedir al menos eficiente');
insert into Respuestas_Test values (1,18,'Dar trabajo en común que a ambos interese');
insert into Respuestas_Test values (2,18,'Hacerles ver el daño que se hacen');
insert into Respuestas_Test values (3,18,'Darles trabajos distintos');
insert into Respuestas_Test values (0,19,'Asuma fácilmente responsabilidad como supervisor');
insert into Respuestas_Test values (1,19,'Haga ver de inmediato su valor');
insert into Respuestas_Test values (2,19,'Sea lento para abrirse las necesarias oportunidades.');
insert into Respuestas_Test values (3,19,'Renuncie ante la más ligera crítica de su trabajo');
insert into Respuestas_Test values (0,20,'Cancelar la cena.');
insert into Respuestas_Test values (1,20,'Encontrar quien lo sustituya.');
insert into Respuestas_Test values (2,20,'Detallar los planes que tenía y evitarlos.');
insert into Respuestas_Test values (3,20,'Enviar una nota explicando la causa de su ausencia');
insert into Respuestas_Test values (0,21,'Ha sido bueno en puestos anteriores');
insert into Respuestas_Test values (1,21,'Ha tenido éxito durante 10 años en su puesto.');
insert into Respuestas_Test values (2,21,'Tiene sus propias ideas e invariablemente se rige por ellas');
insert into Respuestas_Test values (3,21,'Cuenta con una buena recomendación de su jefe anterior');
insert into Respuestas_Test values (0,22,'Escuchar de manera cortés, pero aburrida.');
insert into Respuestas_Test values (1,22,'Escuchar con fingido interés');
insert into Respuestas_Test values (2,22,'Decirle francamente que el tema no le interesa');
insert into Respuestas_Test values (3,22,'Mirar el reloj con impaciencia.');
insert into Respuestas_Test values (0,23,'Doblar el periódico y volver a trabajo');
insert into Respuestas_Test values (1,23,'Pretender que obtiene recortes necesarios al trabajo.');
insert into Respuestas_Test values (2,23,'Tratar de interesar al jefe leyèndole un encabezado importante.');
insert into Respuestas_Test values (3,23,'Seguir leyendo sin mostrar embarazo.');
insert into Respuestas_Test values (0,24,'Castigarle ahí mismo por su indisciplina');
insert into Respuestas_Test values (1,24,'Decirles que de volverlo a hacer los castigará');
insert into Respuestas_Test values (2,24,'Pasar la queja a sus padres');
insert into Respuestas_Test values (3,24,'Tomarlo como broma y no hacer caso al respecto');
insert into Respuestas_Test values (0,25,'Visitando vecinos prominentes explicàndoles los problemas');
insert into Respuestas_Test values (1,25,'Avisar de un programa interesante para la reunión.');
insert into Respuestas_Test values (2,25,'Poner avisos en los lugares públicos');
insert into Respuestas_Test values (3,25,'Enviar avisos personales.');
insert into Respuestas_Test values (0,26,'Pida otro trabajo al jefe.');
insert into Respuestas_Test values (1,26,'Lo haga a su modo sin comentarios.');
insert into Respuestas_Test values (2,26,'Lo haga con Montoya, pero siga criticàndolo.');
insert into Respuestas_Test values (3,26,'Lo haga con Montoya, pero mal a propósito');
insert into Respuestas_Test values (0,27,'Persista en su manera de ser');
insert into Respuestas_Test values (1,27,'Cambie para lograr éxito.');
insert into Respuestas_Test values (2,27,'Forme un nuevo partido político.');
insert into Respuestas_Test values (3,27,'Abandone la política por inmoral');
insert into Respuestas_Test values (0,28,'Preguntarle por qué está triste');
insert into Respuestas_Test values (1,28,'Pasarle el brazo consolandolamente.');
insert into Respuestas_Test values (2,28,'Simular no advertir su pena.');
insert into Respuestas_Test values (3,28,'Simular no haberla visto.');
insert into Respuestas_Test values (0,29,'Explicar el caso al jefe cortésmente.');
insert into Respuestas_Test values (1,29,'Cortésmente indicarle que debe hacer lo que le corresponde o que usted se quejaracon el jefe');
insert into Respuestas_Test values (2,29,'Hacer tanto como pueda eficientemente y no decir nada del caso al jefe.');
insert into Respuestas_Test values (3,29,'Hacer lo suyo y dejar pendiente lo que el compañero no haga.');
insert into Respuestas_Test values (0,30,'Ceder en todos los pequeños puntos posibles');
insert into Respuestas_Test values (1,30,'Tratar de convencerlos de todas sus ideas.');
insert into Respuestas_Test values (2,30,'Ceder parcialmente en todas las cuestiones importantes');
insert into Respuestas_Test values (3,30,'Abogar por muchas reformas.');

--Procedimiento IngresarCandidato--

go
create procedure IngresarCandidato
--Campos Generales
@Nacionalidad varchar(50),
@E_Mail varchar(100),
@No_IMSS varchar(20), 
@Telefono1 varchar(15),
@Telefono2 varchar(15), 
@IDNuevo int output --Para obtener el ID que apenas se agregó
as
BEGIN
	INSERT INTO Candidatos VALUES (@Nacionalidad, @E_Mail,   @No_IMSS, 
	@Telefono1, @Telefono2, default, default, default, default, default ,NULL, NULL, NULL);
	SELECT @IDNuevo = @@IDENTITY;
END

--What a huge Procedure! >u>

GO
--Procedimiento InsertarPrefLab--

CREATE PROCEDURE InsertarPrefLab
--Campos de Preferencias Laborales
@Turno varchar(50),
@Area varchar(50),
@Puesto varchar(50),
@Sueldo money,
@Objetivo varchar(255),
@How varchar(255),
--@IDPrefLab int,
@IDCandidato int
as
BEGIN
	INSERT INTO Preferencias_Laborales VALUES (@Turno,@Area,@Puesto,@Sueldo,@Objetivo,@How);
	--SELECT @IDPrefLab = @@IDENTITY;
	UPDATE Candidatos set Candidatos.id_PrefLab = @@IDENTITY where id_Candidato= @IDCandidato;
END

GO
--Procedimiento InsertarMoreInfo--
CREATE PROCEDURE InsertarMoreInfo
--Campos de More Info
@Idiomas varchar(255),
@Herra_Ofi varchar(255),
@Herra_Info varchar(255),
@Cursos varchar(255),
@Cono_Tec varchar(255),
@Cono_Fina varchar(255),
--@IDMoreInfo int,
@IDCandidato int
as
BEGIN
	INSERT INTO More_Info VALUES (@Idiomas,@Herra_Ofi,@Herra_Info,@Cursos, @Cono_Tec,@Cono_Fina);
	--SELECT @IDMoreInfo = @@IDENTITY;
	UPDATE Candidatos set Candidatos.id_MoreInfo = @@IDENTITY where id_Candidato = @IDCandidato;
END

GO
--Procedimiento InsertarHistoriaLaboral--
Create procedure InsertarHistoriaLaboral
@Puesto varchar(50),
@Empresa varchar(50),
@Fecha_I date,
@Fecha_T date,
@Area varchar(50),
@Industria varchar(50),
@Sueldo money,
@Motivo_Salida varchar(255),
@Jefe_In varchar(50),
@Puesto_Jefe varchar(50),
@Telefono_Jefe varchar(50),
@Contacto bit, --1 si, 0 no
@Comentarios varchar(255),
@id_Candidato int
as
BEGIN
	INSERT INTO Historia_Laboral VALUES (@Puesto,@Empresa,@Fecha_I,@Fecha_T,@Area,@Industria,@Sueldo,@Motivo_Salida,@Jefe_In,@Puesto_Jefe,
	@Telefono_Jefe, @Contacto,@Comentarios,@id_Candidato);
END

GO
--Procedimiento InsertarEstudios--
Create Procedure InsertarEstudios
@Pais varchar(50),
@Nivel_Estudios varchar(50),
@Institucion varchar(50),
@Area varchar(50),
@Titulo varchar(50),
@Fecha_I date,
@Fecha_T date,
@Promedio float,
@id_Candidato int
as
BEGIN
	INSERT INTO Estudios VALUES (@Pais,@Nivel_Estudios,@Institucion,@Area,@Titulo,@Fecha_I,@Fecha_T,@Promedio,@id_Candidato);
END

GO

--Procedimiento InsertarReferencias--
create procedure InsertarReferencias
@Nombre_R varchar(50),
@Direccion_R varchar(255),
@Ocupacion_R varchar(50),
@Telefono_R varchar(50),
@id_Candidato int
as
BEGIN
	INSERT INTO Referencias VALUES (@Nombre_R,@Direccion_R,@Ocupacion_R,@Telefono_R,@id_Candidato);
END

GO

--FINANZAS --

--Procedimiento insertar_servicio--
create proc [dbo].[insertar_servicio]
@identificador as varchar(50),
@nombre as varchar(50),
@descripcion as varchar(50),
@precio as money
as
insert into servicios(identificador,nombre,descripcion,precio)Values(@identificador,@nombre,@descripcion,@precio)

GO
--Procedimiento insertar_atiende--
create proc [dbo].[insertar_atiende]
@id_proveedor as int,
@id_servicio as int
as 
insert into atiende(id_proveedor,id_servicio)Values(@id_proveedor,@id_servicio)

GO
--Procedimiento insertar_proveedor--
create proc [dbo].[insertar_proveedor]
@nombre as varchar(50),
@tel_1 as varchar(50),
@tel_2 as varchar(50),
@ciudad as varchar(60),
@direccion as varchar(100)
as 
insert into proveedor(nombre,tel_1,tel_2,ciudad,direccion)Values(@nombre,@tel_1,@tel_2,@ciudad,@direccion);

go

/*Creación del procedimiento almacenado para la inserción de datos en
la tabla "producto"*/
--Procedimiento InsDatos--
create proc InsDatos
(
@identificador varchar (50),
@nombre varchar (50),
@marca varchar (50),
@modelo varchar (50),
@descripcion varchar (100),
@grupo varchar (50),
@localizacion varchar (50),
@precio_compra money,
@unidad_medida varchar (20),
@cantidad_medida int,
@stock int,
@fecha datetime
)
as insert into producto values(@identificador, @nombre,@marca,@modelo,@descripcion,@grupo,
@localizacion, @precio_compra,@unidad_medida,@cantidad_medida,@stock,@fecha)
GO

--Procedimiento InsSuministra--
create proc InsSuministra
@id_proveedor int,
@id_producto int
as
insert into suministra (suministra.id_proveedor,suministra.id_producto) 
values(@id_proveedor,@id_producto);

SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Procedimiento insertararea--
CREATE PROCEDURE [dbo].[insertararea]
(
   	@area varchar(50),
	@descripcion varchar(50),
	@telefono varchar(50),
	@id_empleado int
)
AS
   	SET NOCOUNT OFF;
INSERT INTO [dbo].area([area], [descripcion], [telefono] , [id_empleado]) VALUES (@area, @descripcion, @telefono, @id_empleado);
GO

SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

--Procedimiento insertarusuario--
CREATE PROCEDURE [dbo].[insertarusuario]
(
   	@usuario varchar(50),
	@pass varchar(50), 
	@id_empleado int,
	@privilegio varchar(50)
)
AS
   	SET NOCOUNT OFF;
INSERT INTO [dbo].usuario(usuario, pass, id_empleado, privilegio) VALUES (@usuario,@pass,@id_empleado,@privilegio);

GO
/****** Object:  Table [dbo].[area]    Script Date: 04/12/2015 23:06:32 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO

--RECURSOS HUMANOS EMPLEADOS--
--Procedimiento insertaPersona--
Create Procedure insertaPersona
@nombre varchar (60),
@apaterno varchar (30),
@amaterno varchar (30),
@curp varchar (18),
@rfc varchar (15),
@fechanac date,
@sexo varchar(15),
@estadocivil varchar(15),
@estatus varchar(15),
@fkdireccion int,
@return int output
as
insert into Persona(nombre, apaterno,amaterno ,curp, rfc ,fechanac ,sexo ,estadocivil, estatus, fkdireccion) values (@nombre,@apaterno,@amaterno,@curp,@rfc,@fechaNac,@sexo,@estadocivil,@estatus,@fkdireccion)
set @return = (select @@IDENTITY)
go

Create proc insertarDireccion 
@calle varchar(50), 
@numerointerior char(15),
@numeroexterior char(15),
@colonia varchar(50),
@codigopostal int,
@estado varchar(30),
@pais varchar(30),
@return int output
as
insert into Direccion(calle, numerointerior, numeroexterior, colonia,codigopostal, estado, pais) values(@calle, @numerointerior, @numeroexterior, @colonia,@codigopostal, @estado, @pais)
set @return=(select @@identity)
go

Create proc editarDireccion
@id int, 
@calle varchar(50), 
@numerointerior char(15),
@numeroexterior char(15),
@colonia varchar(50),
@codigopostal int,
@estado varchar(30),
@pais varchar(30)
as
update Direccion set calle=@calle, numerointerior=@numerointerior, numeroexterior=@numeroexterior, colonia=@colonia,codigopostal=@codigopostal, estado=@estado, pais=@pais where iddireccion=@id;
go

create procedure insertaTelefono
@numero varchar(15),
@tipo varchar(15),
@return int output
as
insert into Telefono(numero,tipo) values (@numero,@tipo)
set @return=(select @@identity)
go

create procedure editaTelefono
@id int,
@numero varchar(15),
@tipo varchar(15)
as
update Telefono set numero=@numero,tipo=@tipo where idtelefono=@id;
go

create procedure editaPersona
@id int,
@nombre varchar (60),
@apaterno varchar (30),
@amaterno varchar (30),
@curp varchar (18),
@rfc varchar (15),
@fechanac date,
@sexo varchar(15),
@estadocivil varchar(15),
@estatus varchar(15),
@fkdireccion int
as
update Persona set nombre=@nombre, apaterno=@apaterno,amaterno=@amaterno,curp=@curp,rfc=@rfc,fechanac=@fechanac,sexo=@sexo,estadocivil=@estadocivil, estatus=@estatus, fkdireccion=@fkdireccion where idpersona=@id;
go

create procedure insertacontacto
@fktelefono int,
@fkpersona int,
@return int output
as
insert into contacto(fktelefono,fkpersona) values (@fktelefono,@fkpersona)
set @return= (select @@identity)
go

create procedure insertaEmpleado
@area varchar(20),
@puesto varchar(30),
@foto varchar(250),
@fkpersona int,
@return int output
as
insert into Empleado(area ,puesto,foto,fkpersona) values (@area,@puesto,@foto,@fkpersona)
set @return= (select @@identity)
go

create procedure editaEmpleado
@id int,
@area varchar(20),
@puesto varchar(30),
@foto varchar(250),
@fkpersona int
as
update Empleado set area=@area ,puesto=@puesto,foto=@foto,fkpersona=@fkpersona where idempleado=@id;
go

create procedure insertaHabilidad
@tipo varchar(50),
@descripcion varchar(200),
@fkempleado int,
@return int output
as
insert into Habilidad (tipo,descripcion,fkempleado) values (@tipo,@descripcion,@fkempleado);
set @return = (Select @@identity)
GO
create procedure editaHabilidad
@id int,
@tipo varchar(50),
@descripcion varchar(200),
@fkempleado int
as
update Habilidad set tipo=@tipo,descripcion=@descripcion,fkempleado=@fkempleado where idhabilidad = @id;
GO

create procedure insertaIdioma
@idioma varchar(200),
@nivel varchar(50),
@descripcion varchar (250),
@fkempleado int,
@return int output
as
insert into Idioma (nombre,nivel,descripcion,fkempleado) values (@idioma,@nivel,@descripcion,@fkempleado);
set @return = (Select @@identity)
go
create procedure editaIdioma
@id int,
@idioma varchar(200),
@nivel varchar(50),
@descripcion varchar (250),
@fkempleado int
as
update Idioma set nombre=@idioma,nivel=@nivel,descripcion=@descripcion,fkempleado=@fkempleado where ididioma=@id;
go

create procedure insertaAcademico
@inicio date,
@fin date,
@titulobtenido varchar(100),
@institucion varchar(100),
@fkempleado int,
@return int output
as
insert into Academico(inicio,fin,titulobtenido,institucion,fkempleado) values (@inicio,@fin,@titulobtenido,@institucion ,@fkempleado)
set @return= (select @@identity)
go
create procedure editaAcademico
@id int,
@inicio date,
@fin date,
@titulobtenido varchar(100),
@institucion varchar(100),
@fkempleado int
as
update Academico set inicio=@inicio,fin=@fin,titulobtenido=@titulobtenido,institucion=@institucion,fkempleado=@fkempleado where idacademico=@id; 
go

create procedure insertaJornada
@tipo varchar(30),
@diasemana int, 
@turno varchar(20),
@hrentrada time,
@hrsalida time, 
@return int output
as
insert into Jornada(tipo ,diasemana , turno ,hrentrada ,hrsalida ) values (@tipo, @diasemana, @turno, @hrentrada, @hrsalida)
set @return= (select @@identity)
go
create procedure editaJornada
@id int,
@tipo varchar(30),
@diasemana int, 
@turno varchar(20),
@hrentrada time,
@hrsalida time
as
update Jornada set tipo=@tipo,diasemana=@diasemana, turno=@turno,hrentrada=@hrentrada,hrsalida=@hrsalida where idjornada=@id; 
go

create procedure insertasiste
@fkempleado int,
@fkjornada int,
@return int output
as
insert into asiste values(@fkempleado,@fkjornada);
set @return=(select @@identity);
go

create procedure eliminaPersona
@idElimP int
as
delete from Persona where idpersona = @idElimP;
go
create procedure eliminaAcademico
@idElimA int
as
delete from Academico where idacademico = @idElimA;
go
create procedure eliminaAsiste
@idElimAs int
as
delete from asiste where fkempleado = @idElimAs;
go
create procedure eliminaContacto
@idElimCn int
as
delete from contacto where fktelefono = @idElimCn;
go
create procedure eliminaDireccion
@idElimD int
as
delete from Direccion where iddireccion = @idElimD;
go
create procedure eliminaEmpleado
@idElimE int
as
delete from Empleado where idempleado = @idElimE;
go
create procedure eliminaHabilidad
@idElimH int
as
delete from Habilidad where idhabilidad = @idElimH;
go
create procedure eliminaIdioma
@idElimI int
as
delete from Idioma where ididioma = @idElimI;
go
create procedure eliminaJornada
@idElimJ int
as
delete from Jornada where idjornada = @idElimJ;
go
create procedure eliminaTelefono
@idElimT int
as
delete from Telefono where idtelefono = @idElimT;
go
